<!DOCTYPE html>
<html lang="en">
<head>
    <title><%= t('QR Code Generator & Reader Tool') %> - <%= t('website_name') %></title>
    <meta name="keywords" content="qr code, qr-code, create qr code, free qr code, qr code generator, qr code image reader, qr code scanner, qr code decoder, text qr code, url qr code, vcard qr code, phone qr code, email qr code, sms qr code, location qr code, wifi qr code"/>
    <meta name="description" content="Free Online QR Code Generator, Reader and Decoder, Create QR-Codes for URL, vCard, Phone, Email, SMS, Location, WiFi and many more."/>
    <%- include('inc/header.ejs') %>
    <style>
        h2 {
            font-size: 1.4rem
        }
    </style>
</head>
<body>
<main class="container mt-4 mb-5">
    <div class="row mb-3">
        <div class="col-sm-10 offset-sm-1 text-center">
            <h1>
                <img width="40" src="<%=$.env.WEB_URL%>static/images/logo.svg">
                <span class="align-middle"><%=t('QR-Code')%></span>
            </h1>
        </div>
    </div>
    <div class="row mb-3">
        <div class="col-sm-10 offset-sm-1">
            <div class="card shadow">
                <div class="card-header" id="generator"><%= t('QR Code Generator') %></div>
                <div class="card-body">
                    <nav>
                        <div class="nav nav-tabs mb-3" id="nav-tab" role="tablist">
                            <a class="nav-item nav-link<%-$.req.query.url?'':' active'%>" data-toggle="tab" href="#nav-text" role="tab" aria-controls="nav-text" aria-selected="<%-$.req.query.url?'':'true'%>">
                                <i class="icon baseline">
                                    <svg viewBox="64 64 896 896" class="" data-icon="font-colors" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false">
                                        <path d="M904 816H120c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8zm-650.3-80h85c4.2 0 8-2.7 9.3-6.8l53.7-166h219.2l53.2 166c1.3 4 5 6.8 9.3 6.8h89.1c1.1 0 2.2-.2 3.2-.5a9.7 9.7 0 0 0 6-12.4L573.6 118.6a9.9 9.9 0 0 0-9.2-6.6H462.1c-4.2 0-7.9 2.6-9.2 6.6L244.5 723.1c-.4 1-.5 2.1-.5 3.2-.1 5.3 4.3 9.7 9.7 9.7zm255.9-516.1h4.1l83.8 263.8H424.9l84.7-263.8z"></path>
                                    </svg>
                                </i>
                                <span><%=t('Text')%></span>
                            </a>
                            <a class="nav-item nav-link<%-$.req.query.url?' active':''%>" data-toggle="tab" href="#nav-url" role="tab" aria-controls="nav-url" aria-selected="<%-$.req.query.url?'true':''%>">
                                <i class="icon baseline">
                                    <svg viewBox="64 64 896 896" class="" data-icon="link" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false">
                                        <path d="M574 665.4a8.03 8.03 0 0 0-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 0 0-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 0 0 0 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 0 0 0 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 0 0-11.3 0L372.3 598.7a8.03 8.03 0 0 0 0 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"></path>
                                    </svg>
                                </i>
                                <%=t('URL')%>
                            </a>
                            <a class="nav-item nav-link" data-toggle="tab" href="#nav-phone" role="tab" aria-controls="nav-phone" aria-selected="false">
                                <i class="icon baseline">
                                    <svg viewBox="64 64 896 896" class="" data-icon="phone" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false">
                                        <path d="M877.1 238.7L770.6 132.3c-13-13-30.4-20.3-48.8-20.3s-35.8 7.2-48.8 20.3L558.3 246.8c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l89.6 89.7a405.46 405.46 0 0 1-86.4 127.3c-36.7 36.9-79.6 66-127.2 86.6l-89.6-89.7c-13-13-30.4-20.3-48.8-20.3a68.2 68.2 0 0 0-48.8 20.3L132.3 673c-13 13-20.3 30.5-20.3 48.9 0 18.5 7.2 35.8 20.3 48.9l106.4 106.4c22.2 22.2 52.8 34.9 84.2 34.9 6.5 0 12.8-.5 19.2-1.6 132.4-21.8 263.8-92.3 369.9-198.3C818 606 888.4 474.6 910.4 342.1c6.3-37.6-6.3-76.3-33.3-103.4zm-37.6 91.5c-19.5 117.9-82.9 235.5-178.4 331s-213 158.9-330.9 178.4c-14.8 2.5-30-2.5-40.8-13.2L184.9 721.9 295.7 611l119.8 120 .9.9 21.6-8a481.29 481.29 0 0 0 285.7-285.8l8-21.6-120.8-120.7 110.8-110.9 104.5 104.5c10.8 10.8 15.8 26 13.3 40.8z"></path>
                                    </svg>
                                </i>
                                <%=t('Phone')%>
                            </a>
                            <a class="nav-item nav-link" data-toggle="tab" href="#nav-email" role="tab" aria-controls="nav-email" aria-selected="false">
                                <i class="icon baseline">
                                    <svg viewBox="64 64 896 896" class="" data-icon="mail" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false">
                                        <path d="M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0 0 68.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"></path>
                                    </svg>
                                </i>
                                <%=t('Email')%>
                            </a>
                            <a class="nav-item nav-link" data-toggle="tab" href="#nav-sms" role="tab" aria-controls="nav-sms" aria-selected="false">
                                <i class="icon baseline">
                                    <svg viewBox="64 64 896 896" class="" data-icon="message" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false">
                                        <path d="M464 512a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm200 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm-400 0a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm661.2-173.6c-22.6-53.7-55-101.9-96.3-143.3a444.35 444.35 0 0 0-143.3-96.3C630.6 75.7 572.2 64 512 64h-2c-60.6.3-119.3 12.3-174.5 35.9a445.35 445.35 0 0 0-142 96.5c-40.9 41.3-73 89.3-95.2 142.8-23 55.4-34.6 114.3-34.3 174.9A449.4 449.4 0 0 0 112 714v152a46 46 0 0 0 46 46h152.1A449.4 449.4 0 0 0 510 960h2.1c59.9 0 118-11.6 172.7-34.3a444.48 444.48 0 0 0 142.8-95.2c41.3-40.9 73.8-88.7 96.5-142 23.6-55.2 35.6-113.9 35.9-174.5.3-60.9-11.5-120-34.8-175.6zm-151.1 438C704 845.8 611 884 512 884h-1.7c-60.3-.3-120.2-15.3-173.1-43.5l-8.4-4.5H188V695.2l-4.5-8.4C155.3 633.9 140.3 574 140 513.7c-.4-99.7 37.7-193.3 107.6-263.8 69.8-70.5 163.1-109.5 262.8-109.9h1.7c50 0 98.5 9.7 144.2 28.9 44.6 18.7 84.6 45.6 119 80 34.3 34.3 61.3 74.4 80 119 19.4 46.2 29.1 95.2 28.9 145.8-.6 99.6-39.7 192.9-110.1 262.7z"></path>
                                    </svg>
                                </i>
                                <%=t('SMS')%>
                            </a>
                            <a class="nav-item nav-link" data-toggle="tab" href="#nav-location" role="tab" aria-controls="nav-location" aria-selected="false">
                                <i class="icon baseline">
                                    <svg viewBox="64 64 896 896" class="" data-icon="environment" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false">
                                        <path d="M854.6 289.1a362.49 362.49 0 0 0-79.9-115.7 370.83 370.83 0 0 0-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 0 0 169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0 0 22.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 0 1 512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 0 1 400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"></path>
                                    </svg>
                                </i>
                                <%=t('Location')%>
                            </a>
                            <a class="nav-item nav-link" data-toggle="tab" href="#nav-vcard" role="tab" aria-controls="nav-vcard" aria-selected="false">
                                <i class="icon baseline">
                                    <svg viewBox="64 64 896 896" class="" data-icon="idcard" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false">
                                        <path d="M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 632H136V232h752v560zM610.3 476h123.4c1.3 0 2.3-3.6 2.3-8v-48c0-4.4-1-8-2.3-8H610.3c-1.3 0-2.3 3.6-2.3 8v48c0 4.4 1 8 2.3 8zm4.8 144h185.7c3.9 0 7.1-3.6 7.1-8v-48c0-4.4-3.2-8-7.1-8H615.1c-3.9 0-7.1 3.6-7.1 8v48c0 4.4 3.2 8 7.1 8zM224 673h43.9c4.2 0 7.6-3.3 7.9-7.5 3.8-50.5 46-90.5 97.2-90.5s93.4 40 97.2 90.5c.3 4.2 3.7 7.5 7.9 7.5H522a8 8 0 0 0 8-8.4c-2.8-53.3-32-99.7-74.6-126.1a111.8 111.8 0 0 0 29.1-75.5c0-61.9-49.9-112-111.4-112s-111.4 50.1-111.4 112c0 29.1 11 55.5 29.1 75.5a158.09 158.09 0 0 0-74.6 126.1c-.4 4.6 3.2 8.4 7.8 8.4zm149-262c28.5 0 51.7 23.3 51.7 52s-23.2 52-51.7 52-51.7-23.3-51.7-52 23.2-52 51.7-52z"></path>
                                    </svg>
                                </i>
                                <%=t('vCard')%>
                            </a>
                            <a class="nav-item nav-link" data-toggle="tab" href="#nav-wifi" role="tab" aria-controls="nav-wifi" aria-selected="false">
                                <i class="icon baseline">
                                    <svg viewBox="64 64 896 896" class="" data-icon="wifi" width="1em" height="1em" fill="currentColor" aria-hidden="true" focusable="false">
                                        <path d="M723 620.5C666.8 571.6 593.4 542 513 542s-153.8 29.6-210.1 78.6a8.1 8.1 0 0 0-.8 11.2l36 42.9c2.9 3.4 8 3.8 11.4.9C393.1 637.2 450.3 614 513 614s119.9 23.2 163.5 61.5c3.4 2.9 8.5 2.5 11.4-.9l36-42.9c2.8-3.3 2.4-8.3-.9-11.2zm117.4-140.1C751.7 406.5 637.6 362 513 362s-238.7 44.5-327.5 118.4a8.05 8.05 0 0 0-1 11.3l36 42.9c2.8 3.4 7.9 3.8 11.2 1C308 472.2 406.1 434 513 434s205 38.2 281.2 101.6c3.4 2.8 8.4 2.4 11.2-1l36-42.9c2.8-3.4 2.4-8.5-1-11.3zm116.7-139C835.7 241.8 680.3 182 511 182c-168.2 0-322.6 59-443.7 157.4a8 8 0 0 0-1.1 11.4l36 42.9c2.8 3.3 7.8 3.8 11.1 1.1C222 306.7 360.3 254 511 254c151.8 0 291 53.5 400 142.7 3.4 2.8 8.4 2.3 11.2-1.1l36-42.9c2.9-3.4 2.4-8.5-1.1-11.3zM448 778a64 64 0 1 0 128 0 64 64 0 1 0-128 0z"></path>
                                    </svg>
                                </i>
                                <%=t('WiFi')%>
                            </a>
                        </div>
                    </nav>
                    <div class="tab-content" id="nav-tabContent">
                        <div class="tab-pane fade<%-$.req.query.url?'':' show active'%>" id="nav-text" role="tabpanel" aria-labelledby="nav-text-tab">
                            <form id="form-text">
                                <h2 class="mt-3 mb-3"><%= t('Text to QR Code') %></h2>
                                <div class="form-group">
                                    <textarea name="text" id="text" class="form-control" placeholder="<%= t('Write something here...') %>" rows="3" required></textarea>
                                </div>
                                <div class="form-group text-center">
                                    <button class="btn btn-primary mt-3" type="submit">
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none"></span>
                                        <%= t('Create QR Code') %>
                                    </button>
                                </div>
                                <input type="hidden" value="text" name="type">
                            </form>
                        </div>
                        <div class="tab-pane fade<%-$.req.query.url?' show active':''%>" id="nav-url" role="tabpanel" aria-labelledby="nav-url-tab">
                            <form id="form-url">
                                <h2 class="mt-3 mb-3"><%= t('URL to QR Code') %></h2>
                                <div class="form-group">
                                    <label for="url"><%= t('Website (URL)') %></label>
                                    <input type="text" name="url" id="url" class="form-control" placeholder="https://www.example.com" value="<%= $.req.query.url || '' %>" required>
                                </div>
                                <div class="form-group text-center">
                                    <button class="btn btn-primary mt-3" type="submit">
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none"></span>
                                        <%= t('Create QR Code') %>
                                    </button>
                                </div>
                                <input type="hidden" value="url" name="type">
                            </form>
                        </div>
                        <div class="tab-pane fade" id="nav-phone" role="tabpanel" aria-labelledby="nav-phone-tab">
                            <form id="form-phone">
                                <h2 class="mt-3 mb-3"><%= t('Phone to QR Code') %></h2>
                                <div class="form-group">
                                    <label for="phone"><%= t('Phone Number') %></label>
                                    <input type="text" name="phone" id="phone" class="form-control" placeholder="<%= t('Enter a phone number') %>" required>
                                </div>
                                <div class="form-group text-center">
                                    <button class="btn btn-primary mt-3" type="submit">
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none"></span>
                                        <%= t('Create QR Code') %>
                                    </button>
                                </div>
                                <input type="hidden" value="phone" name="type">
                            </form>
                        </div>
                        <div class="tab-pane fade" id="nav-email" role="tabpanel" aria-labelledby="nav-email-tab">
                            <form id="form-email">
                                <h2 class="mt-3 mb-3"><%= t('Email to QR Code') %></h2>
                                <div class="form-group">
                                    <label for="phone"><%= t('Email') %></label>
                                    <input type="email" name="email" id="email" class="form-control" placeholder="<%= t('Your email') %>" required>
                                </div>
                                <div class="form-group">
                                    <label for="subject"><%= t('Subject') %></label>
                                    <input type="text" name="subject" id="subject" class="form-control" placeholder="<%= t('Email subject') %>">
                                </div>
                                <div class="form-group">
                                    <label for="body"><%= t('Body') %></label>
                                    <textarea name="body" id="body" class="form-control" rows="3" placeholder="<%= t('Email body') %>"></textarea>
                                </div>
                                <div class="form-group text-center">
                                    <button class="btn btn-primary mt-3" type="submit">
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none"></span>
                                        <%= t('Create QR Code') %>
                                    </button>
                                </div>
                                <input type="hidden" value="email" name="type">
                            </form>
                        </div>
                        <div class="tab-pane fade" id="nav-sms" role="tabpanel" aria-labelledby="nav-sms-tab">
                            <form id="form-sms">
                                <h2 class="mt-3 mb-3"><%= t('SMS to QR Code') %></h2>
                                <div class="form-group">
                                    <label for="sms-phone"><%= t('Phone Number') %></label>
                                    <input type="text" name="phone" id="sms-phone" class="form-control" placeholder="<%= t('Enter a phone number') %>" required>
                                </div>
                                <div class="form-group">
                                    <label for="body"><%= t('Message') %></label>
                                    <textarea name="message" id="message" class="form-control" rows="3" placeholder="<%= t('Write your message...') %>" required></textarea>
                                </div>
                                <div class="form-group text-center">
                                    <button class="btn btn-primary mt-3" type="submit">
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none"></span>
                                        <%= t('Create QR Code') %>
                                    </button>
                                </div>
                                <input type="hidden" value="sms" name="type">
                            </form>
                        </div>
                        <div class="tab-pane fade" id="nav-location" role="tabpanel" aria-labelledby="nav-location-tab">
                            <form id="form-location">
                                <h2 class="mt-3 mb-3"><%= t('Location to QR Code') %></h2>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="latitude">Latitude</label>
                                        <input type="text" name="latitude" id="latitude" class="form-control" placeholder="39.9075" required>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="longitude">Longitude</label>
                                        <input type="text" name="longitude" id="longitude" class="form-control" placeholder="116.3972" required>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="query"><%= t('Query') %></label>
                                    <input type="text" name="query" id="query" class="form-control" placeholder="<%= t('Beijing, China') %>">
                                </div>
                                <div class="form-group text-center">
                                    <button class="btn btn-primary mt-3" type="submit">
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none"></span>
                                        <%= t('Create QR Code') %>
                                    </button>
                                </div>
                                <input type="hidden" value="location" name="type">
                            </form>
                        </div>
                        <div class="tab-pane fade" id="nav-vcard" role="tabpanel" aria-labelledby="nav-vcard-tab">
                            <form id="form-vcard">
                                <h2 class="mt-3 mb-3"><%= t('Location to QR Code') %></h2>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="first_name"><%= t('First Name') %></label>
                                        <input type="text" name="first_name" id="first_name" class="form-control" required>
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="last_name"><%= t('Last Name') %></label>
                                        <input type="text" name="last_name" id="last_name" class="form-control">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="vcard-email"><%= t('Email') %></label>
                                    <input type="text" name="email" id="vcard-email" class="form-control">
                                </div>
                                <div class="form-group">
                                    <label for="phone_mobile"><%= t('Phone (Mobile)') %></label>
                                    <input type="text" name="phone" id="phone_mobile" class="form-control">
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="company"><%= t('Company') %></label>
                                        <input type="text" name="company" id="company" class="form-control">
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="job_title"><%= t('Job Title') %></label>
                                        <input type="text" name="job_title" id="job_title" class="form-control">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <label for="phone_work"><%= t('Phone (Work)') %></label>
                                        <input type="text" name="phone_work" id="phone_work" class="form-control">
                                    </div>
                                    <div class="form-group col-md-6">
                                        <label for="fax_work"><%= t('Fax (Work)') %></label>
                                        <input type="text" name="fax_work" id="fax_work" class="form-control">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="street"><%= t('Address') %></label>
                                    <input type="text" name="street" id="street" class="form-control" placeholder="<%=t('Street Address')%>">
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <input type="text" name="city" id="city" class="form-control" placeholder="<%=t('City')%>">
                                    </div>
                                    <div class="form-group col-md-6">
                                        <input type="text" name="state" id="state" class="form-control" placeholder="<%=t('State')%>">
                                    </div>
                                </div>
                                <div class="form-row">
                                    <div class="form-group col-md-6">
                                        <input type="text" name="zip" id="zip" class="form-control" placeholder="<%=t('Zip code')%>">
                                    </div>
                                    <div class="form-group col-md-6">
                                        <input type="text" name="country" id="country" class="form-control" placeholder="<%=t('country')%>">
                                    </div>
                                </div>
                                <div class="form-group">
                                    <label for="website"><%= t('Website') %></label>
                                    <input type="text" name="url" id="website" class="form-control">
                                </div>
                                <div class="form-group text-center">
                                    <button class="btn btn-primary mt-3" type="submit">
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none"></span>
                                        <%= t('Create QR Code') %>
                                    </button>
                                </div>
                                <input type="hidden" value="vcard" name="type">
                            </form>
                        </div>
                        <div class="tab-pane fade" id="nav-wifi" role="tabpanel" aria-labelledby="nav-wifi-tab">
                            <form id="form-wifi">
                                <h2 class="mt-3 mb-3"><%= t('WiFi to QR Code') %></h2>
                                <div class="form-group">
                                    <label for="ssid"><%= t('WiFi Name') %></label>
                                    <input type="text" name="ssid" id="ssid" class="form-control" placeholder="<%= t('Airport WiFi') %>" required>
                                </div>
                                <div class="form-group">
                                    <label for="password"><%= t('Password') %></label>
                                    <input type="text" name="password" id="password" class="form-control" placeholder="<%= t('WiFi password') %>">
                                </div>
                                <div class="form-group">
                                    <label for="ntype"><%= t('Network Type') %></label>
                                    <select name="ntype" id="ntype" class="form-control">
                                        <option value="WEP">WEP</option>
                                        <option value="WPA">WPA/WPA2</option>
                                        <option value="nopass">No encryption</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <div class="form-check">
                                        <input name="hidden" id="hidden" class="form-check-input" type="checkbox" value="true">
                                        <label class="form-check-label" for="hidden">Hidden?</label>
                                    </div>
                                </div>
                                <div class="form-group text-center">
                                    <button class="btn btn-primary mt-3" type="submit">
                                        <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none"></span>
                                        <%= t('Create QR Code') %>
                                    </button>
                                </div>
                                <input type="hidden" value="wifi" name="type">
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-10 mt-4 offset-sm-1" id="qrcode-create" style="display: none">
            <div class="card shadow">
                <div class="card-body">
                    <div class="text-center" id="qrcode"></div>
                    <pre class="text-center mt-2 mb-2" id="qrcode-text"></pre>
                    <div id="creating" class="text-center" style="display:none">
                        <div class="spinner-border text-primary">
                            <span class="sr-only"><%= t('Loading...') %></span>
                        </div>
                    </div>
                    <div id="qrcode-create-down" class="text-center mt-3" style="display:none">
                        <a id="qrcode-down" class="btn btn-outline-primary" href="#" role="button"><%= t('Download Image') %></a>
                    </div>
                </div>
            </div>
        </div>
        <div id="reader" class="col-sm-10 mt-4 offset-sm-1">
            <div class="card shadow">
                <div class="card-header" id="reader"><%= t('QR Code Reader') %></div>
                <div class="card-body">
                    <div class="custom-file">
                        <input type="file" accept=".jpg,.png,.jpeg,.gif" class="custom-file-input" id="qrcode-file">
                        <label class="custom-file-label" for="qrcode-file"><%= t('Upload QR Code image') %></label>
                    </div>
                    <div class="mt-3" id="qrcode-decode" style="display: none">
                        <div class="text-center" id="qrcode-wrap"></div>
                        <div id="decoding" class="text-center" style="display:none">
                            <div class="spinner-border text-primary">
                                <span class="sr-only"><%= t('Loading...') %></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-10 mt-4 offset-sm-1">
            <div class="card shadow">
                <div class="card-header"><%= t('Help') %></div>
                <div class="card-body">
                    <ul class="mb-0">
                        <li class="mb-2"><%= t('This is a free service to Generator and Decoder QR codes online.')%></li>
                        <li class="mb-2"><%= t('QR Code Generator, Create QR Code for URL, vCard, Phone Number, Email, SMS, Location, WiFi access and many more.') %></li>
                        <li class="mb-2"><%= t('Decode QR Code to Text, QR Code Image Reader & Decoder, Upload a picture with a QR Code in it or a web reference to an image of a QR Code and this decoder will try to read it and show what is encoded in the QR Code.') %></li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
         aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel"><%= t('Identification failure') %></h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body"></div>
            </div>
        </div>
    </div>
</main>
<%- include('inc/footer.ejs') %>
<script src="//cdnjs.cloudflare.com/ajax/libs/utf8/3.0.0/utf8.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>
<script src="<%= $.env.WEB_URL %>static/js/jsQR.js"></script>
<script>
    var url = '<%=$.req.query.url%>';
    $(function () {
        function qr(form) {
            var data = form.serializeObject();
            var text = '';
            switch (data.type) {
                case 'text':
                    text = data.text;
                    break;
                case 'url':
                    text = data.url;
                    break;
                case 'phone':
                    text = 'tel:' + data.phone;
                    break;
                case 'email':
                    if (data.subject || data.body) {
                        text = 'MATMSG:TO:' + data.email + ';';
                        if (data.subject) {
                            text += 'SUB:' + data.subject + ';';
                        }
                        if (data.body) {
                            text += 'BODY:' + data.body + ';';
                        }
                    } else {
                        text = 'mailto:' + data.email;
                    }
                    break;
                case 'sms':
                    text = 'smsto:' + data.phone + ':' + data.message;
                    break;
                case 'location':
                    text = 'geo:' + data.latitude + ',' + data.longitude;
                    if (data.query) {
                        text += '?q=' + data.query;
                    }
                    break;
                case 'vcard':
                    text = 'BEGIN:VCARD\r\n';
                    if (data.first_name && data.last_name) {
                        text += 'N:' + data.last_name + ';' + data.first_name + '\r\n';
                        text += 'FN:' + data.first_name + ' ' + data.last_name + '\r\n';
                    } else if (data.first_name) {
                        text += 'N:\r\n';
                        text += 'FN:' + data.first_name + '\r\n';
                    }
                    if (data.company) {
                        text += 'ORG:' + data.company + '\r\n';
                    }
                    if (data.job_title) {
                        text += 'TITLE:' + data.job_title + '\r\n';
                    }
                    if (data.phone) {
                        text += 'TEL;TYPE=voice,cell,pref:' + data.phone + '\r\n';
                    }
                    if (data.phone_work) {
                        text += 'TEL;TYPE=voice,work,pref:' + data.phone_work + '\r\n';
                    }
                    if (data.fax_work) {
                        text += 'TEL;TYPE=fax,work,pref:' + data.fax_work + '\r\n';
                    }
                    if (data.street || data.city || data.state || data.zip || data.country) {
                        text += 'ADR:' + (data.street || '') + ';' + (data.city || '') + ';' + (data.state || '') + ';' + (data.zip || '') + ';' + (data.country || '') + '\r\n';
                    }
                    if (data.url) {
                        text += 'URL:' + data.url + '\r\n';
                    }
                    text += 'END:VCARD';
                    break;
                case 'wifi':
                    console.log(data);
                    text = 'WIFI:S:' + data.ssid + ';T:' + data.ntype + ';';
                    if (data.password) {
                        text += 'P:' + data.password + ';'
                    }
                    if (data.hidden) {
                        text += 'H:' + data.hidden + ';'
                    }
                    break;
            }
            if (text) {
                var loadingQuery = '#creating,#' + form.attr('id') + ' button';
                $$.loading.start(loadingQuery);
                $('#qrcode').empty();
                $('#qrcode-text').empty();
                $('#qrcode-create').show();
                $('#qrcode-create-down').hide();
                setTimeout(function () {
                    var w = 256;
                    var l = 0;
                    var canvas = $('#qrcode').qrcode({
                        text: utf8.encode(text),
                        width: w,
                        height: w,
                        correctLevel: l,
                    });
                    $('#qrcode-text').text(text);
                    $$.loading.done(loadingQuery);
                    $('#qrcode-create').show();
                    $('#qrcode-down').attr('href', $('canvas').get(0).toDataURL()).attr('download', 'qrcode.png');
                    $('#qrcode-create-down').show();
                }, 500);
            }
        }

        $('form').submit(function () {
            qr($(this));
            return false;
        });
        $('#qrcode-file').on('change', function (e) {
            $$.loading.start('#decoding');
            $('#qrcode-wrap').empty();
            $('#qrcode-decode').show();
            setTimeout(function () {
                var files = e.target.files;
                var fileName = files[0].name;
                $('.custom-file-label').html(fileName);
                var url = URL.createObjectURL(files[0]);
                let image = new Image();
                image.onload = function () {
                    const canvas = document.createElement('canvas');
                    const context = canvas.getContext('2d');
                    canvas.width = image.width;
                    canvas.height = image.height;
                    context.drawImage(image, 0, 0);
                    try {
                        const imageData = context.getImageData(0, 0, image.width, image.height);
                        const qrCode = jsQR(imageData.data, imageData.width, imageData.height);
                        if (qrCode.data) {
                            $('#qrcode-wrap').append('<pre class="code">' + qrCode.data + '</pre>');
                        }
                    } catch (error) {
                        $('.modal-body').text(fileName + " <%= t('May not be a QR Code, or because the content of the QR Code is too complicated') %>")
                        $('.modal').modal('show')
                    }
                };
                image.src = url;
                $$.loading.done('#decoding');
            }, 500);
        });
        if (url) {
            qr($('#form-url'));
        }
    });
</script>
</body>
</html>
